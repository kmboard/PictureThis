{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kirk6\\\\Desktop\\\\GTBootcamp\\\\p3p\\\\portfolio-app\\\\src\\\\PortfolioDetail.js\";\nimport React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { Segment, Accordion, Icon, Image, Card } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport './styles/PortfolioContainer.css';\nimport client from './api/ApolloClient';\nimport gql from 'graphql-tag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DELETE_PORTFOLIO = gql`\n  mutation{\n    deleteUser{\n\t\t_id\n\t}\n  }\n`;\nexport const GET_PORTFOLIO = gql`\n    query($id: String!) {\n        getUser(id: $id) {\n            _id,\n            email,\n            name,\n            description,\n            files\n        }\n    }\n`;\n\nclass PortfolioDetail extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      activeIndex: 0\n    };\n\n    this.handleClick = (e, titleProps) => {\n      const {\n        index\n      } = titleProps;\n      const {\n        activeIndex\n      } = this.state;\n      const newIndex = activeIndex === index ? -1 : index;\n      this.setState({\n        activeIndex: newIndex\n      });\n    };\n\n    this.componentDidMount = async () => {\n      // if(!this.props.isSignedIn){\n      //     this.props.history.replace(\"/\");\n      // }\n      if (window.location.pathname.split(\"detail/\") && window.location.pathname.split(\"detail/\")[1]) {\n        const request = await client.mutate({\n          variables: {\n            id: window.location.pathname.split(\"detail/\")[1]\n          },\n          mutation: GET_PORTFOLIO\n        });\n        console.log(request);\n\n        if (request.data && request.data.getUser) {\n          this.setState({\n            portfolioData: request.data.getUser\n          });\n        } else {\n          console.error(\"Fetch Error\");\n        }\n      }\n    };\n\n    this.componentWillUnmount = () => {};\n  }\n\n  async deletePortfolio() {\n    const request = await client.mutate({\n      mutation: DELETE_PORTFOLIO\n    });\n    console.log(request);\n\n    if (request.data && request.data.deleteUser) {\n      this.setState({\n        portfolioData: request.data.deleteUser\n      });\n      this.props.history.push(\"/portfolios\");\n    } else {\n      console.error(\"Fetch Error\");\n    }\n  }\n\n  render() {\n    console.log(this.state.portfolioData);\n    const {\n      activeIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        scrollbarColor: 'transparent transparent',\n        scrollbarWidth: 'none',\n        userSelect: 'text'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Segment, {\n        className: \"portfolio-detail-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: \"95%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"ui large header\",\n            children: this.state.portfolioData ? this.state.portfolioData.name : \"Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"ui red button\",\n            onClick: () => {\n              this.deletePortfolio();\n            },\n            style: {\n              marginBottom: 15\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), this.state.portfolioData ? /*#__PURE__*/_jsxDEV(Card.Group, {\n          itemsPerRow: document.documentElement.clientWidth > 767 ? 3 : 1,\n          children: this.state.portfolioData.files && this.state.portfolioData.files.map(item => /*#__PURE__*/_jsxDEV(Card, {\n            raised: true,\n            image: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 101\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 47\n        }, this) : null, this.state.portfolioData ? /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"ui message\",\n          style: {\n            minWidth: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.portfolioData.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 48\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\n; // export default connect(null, mapDispatchToProps)(App);\n\nconst mapStateToProps = state => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  };\n}; // export default connect(null, mapDispatchToProps)(App);\n\n\nexport default connect(mapStateToProps, {})(PortfolioDetail);","map":{"version":3,"names":["React","Header","connect","Segment","Accordion","Icon","Image","Card","Link","client","gql","DELETE_PORTFOLIO","GET_PORTFOLIO","PortfolioDetail","Component","state","activeIndex","handleClick","e","titleProps","index","newIndex","setState","componentDidMount","window","location","pathname","split","request","mutate","variables","id","mutation","console","log","data","getUser","portfolioData","error","componentWillUnmount","deletePortfolio","deleteUser","props","history","push","render","width","scrollbarColor","scrollbarWidth","userSelect","display","justifyContent","name","marginBottom","document","documentElement","clientWidth","files","map","item","minWidth","description","mapStateToProps","isSignedIn","auth"],"sources":["C:/Users/kirk6/Desktop/GTBootcamp/p3p/portfolio-app/src/PortfolioDetail.js"],"sourcesContent":["import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { Segment, Accordion, Icon, Image, Card} from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles/PortfolioContainer.css';\r\nimport client from './api/ApolloClient';\r\nimport gql from 'graphql-tag';\r\n\r\nexport const DELETE_PORTFOLIO = gql`\r\n  mutation{\r\n    deleteUser{\r\n\t\t_id\r\n\t}\r\n  }\r\n`;\r\n\r\nexport const GET_PORTFOLIO = gql`\r\n    query($id: String!) {\r\n        getUser(id: $id) {\r\n            _id,\r\n            email,\r\n            name,\r\n            description,\r\n            files\r\n        }\r\n    }\r\n`;\r\n\r\nclass PortfolioDetail extends React.Component{\r\n\r\n\tstate = { activeIndex: 0 }\r\n\r\n    handleClick = (e, titleProps) => {\r\n        const { index } = titleProps\r\n        const { activeIndex } = this.state\r\n        const newIndex = activeIndex === index ? -1 : index\r\n\r\n        this.setState({ activeIndex: newIndex })\r\n    }\r\n\r\n    async deletePortfolio(){\r\n        const request = await client.mutate({\r\n            mutation: DELETE_PORTFOLIO,\r\n        })\r\n\r\n        console.log(request);\r\n        if(request.data&&request.data.deleteUser){\r\n            this.setState({portfolioData: request.data.deleteUser});\r\n            this.props.history.push(\"/portfolios\");\r\n        }\r\n        else{\r\n            console.error(\"Fetch Error\")\r\n        }\r\n    }\r\n\r\n\tcomponentDidMount = async () => {\r\n        // if(!this.props.isSignedIn){\r\n        //     this.props.history.replace(\"/\");\r\n        // }\r\n\r\n        if(window.location.pathname.split(\"detail/\")&&window.location.pathname.split(\"detail/\")[1]){\r\n            const request = await client.mutate({\r\n                variables: {id: window.location.pathname.split(\"detail/\")[1]},\r\n                mutation: GET_PORTFOLIO,\r\n            })\r\n    \r\n            console.log(request);\r\n            if(request.data&&request.data.getUser){\r\n                this.setState({portfolioData: request.data.getUser}); \r\n            }\r\n            else{\r\n                console.error(\"Fetch Error\")\r\n            }\r\n        }\r\n\t}\r\n\r\n\tcomponentWillUnmount=()=>{\r\n\r\n\t}\r\n\r\n\trender(){\r\n        console.log(this.state.portfolioData)\r\n        const { activeIndex } = this.state\r\n\t\treturn(\r\n\t\t\t<div style={{width:'100%',scrollbarColor:'transparent transparent',scrollbarWidth:'none',userSelect:'text'}}>\r\n                <Header/>\r\n                <Segment className=\"portfolio-detail-container\">\r\n                    <div style={{display:'flex', justifyContent:'space-between', width: \"95%\"}}>\r\n                        <div class=\"ui large header\">\r\n                            {this.state.portfolioData?this.state.portfolioData.name:\"Portfolio\"}\r\n                        </div>\r\n                        <div class=\"ui red button\" onClick={()=>{this.deletePortfolio();}} style={{marginBottom: 15}}>\r\n                            Delete\r\n                        </div>\r\n                    </div>\r\n                    {this.state.portfolioData?<Card.Group itemsPerRow={document.documentElement.clientWidth>767?3:1}>\r\n                        {this.state.portfolioData.files&&this.state.portfolioData.files.map((item)=><Card raised image={item} />)}\r\n                    </Card.Group>:null}\r\n                    {this.state.portfolioData?(<div class=\"ui message\" style={{minWidth: '100%'}}>\r\n                        <p>{this.state.portfolioData.description}</p>\r\n                    </div>):null}\r\n                    {/* <Image className='portfolio-detail-img' src='https://images.pexels.com/photos/302743/pexels-photo-302743.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500' /> */}\r\n                    {/* <div className=\"ui message portfolio-detail-accord\">\r\n                        <Accordion>\r\n                            <Accordion.Title\r\n                                active={activeIndex === 0}\r\n                                index={0}\r\n                                onClick={this.handleClick}\r\n                                >\r\n                                <Icon name='dropdown' />\r\n                                What is a dog?\r\n                                </Accordion.Title>\r\n                                <Accordion.Content active={activeIndex === 0}>\r\n                                <p>\r\n                                    A dog is a type of domesticated animal. Known for its loyalty and\r\n                                    faithfulness, it can be found as a welcome guest in many households\r\n                                    across the world.\r\n                                </p>\r\n                                </Accordion.Content>\r\n\r\n                                <Accordion.Title\r\n                                active={activeIndex === 1}\r\n                                index={1}\r\n                                onClick={this.handleClick}\r\n                                >\r\n                                <Icon name='dropdown' />\r\n                                What kinds of dogs are there?\r\n                                </Accordion.Title>\r\n                                <Accordion.Content active={activeIndex === 1}>\r\n                                <p>\r\n                                    There are many breeds of dogs. Each breed varies in size and\r\n                                    temperament. Owners often select a breed of dog that they find to be\r\n                                    compatible with their own lifestyle and desires from a companion.\r\n                                </p>\r\n                                </Accordion.Content>\r\n\r\n                                <Accordion.Title\r\n                                active={activeIndex === 2}\r\n                                index={2}\r\n                                onClick={this.handleClick}\r\n                                >\r\n                                <Icon name='dropdown' />\r\n                                How do you acquire a dog?\r\n                                </Accordion.Title>\r\n                                <Accordion.Content active={activeIndex === 2}>\r\n                                <p>\r\n                                    Three common ways for a prospective owner to acquire a dog is from\r\n                                    pet shops, private owners, or shelters.\r\n                                </p>\r\n                                <p>\r\n                                    A pet shop may be the most convenient way to buy a dog. Buying a dog\r\n                                    from a private owner allows you to assess the pedigree and\r\n                                    upbringing of your dog before choosing to take it home. Lastly,\r\n                                    finding your dog from a shelter, helps give a good home to a dog who\r\n                                    may not find one so readily.\r\n                                </p>\r\n                            </Accordion.Content>\r\n                        </Accordion> */}\r\n                </Segment>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\n\r\n// export default connect(null, mapDispatchToProps)(App);\r\n\r\nconst mapStateToProps=(state)=>{\r\n\treturn{\r\n\t\tisSignedIn: state.auth.isSignedIn\r\n\t};\r\n}\r\n\r\n\r\n// export default connect(null, mapDispatchToProps)(App);\r\n\r\nexport default connect(mapStateToProps, {})(PortfolioDetail);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}